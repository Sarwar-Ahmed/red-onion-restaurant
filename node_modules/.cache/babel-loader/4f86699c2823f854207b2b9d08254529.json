{"ast":null,"code":"import _slicedToArray from\"C:\\\\Complete Web Devlopment Batch 2\\\\projects\\\\red-onion-restaurant\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'./ItemDetails.css';import{Container,Nav}from'react-bootstrap';import{useHistory,useParams}from'react-router-dom';import{UserContext}from'../../App';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMinusCircle,faPlusCircle}from'@fortawesome/free-solid-svg-icons';import{FiShoppingCart}from\"react-icons/fi\";import{useEffect}from'react';import Header from'../Header/Header';import Footer from'../Footer/Footer';var ItemDetails=function ItemDetails(){var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),loggedInUser=_useContext2[0],setLoggedInUser=_useContext2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetch(\"http://localhost:5000/foodMenu\").then(function(res){return res.json();}).then(function(data){setItem(data.find(function(item){return item._id===id;}));});},[]);var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var history=useHistory();var handleCart=function handleCart(){var cartItem=item;cartItem.quantity=quantity;cartItem.email=loggedInUser.email;fetch('http://localhost:5000/addCart',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(cartItem)});alert(\"Item successfully added to cart.\");history.push(\"/home\");};return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row p-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 p-5\"},/*#__PURE__*/React.createElement(\"h2\",null,item.title),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},\"Gay one the what walk the she. Demesne mention promise you justice arrived way. Amazing foods are Or and icreasing to in especially inquieted companions acceptance admiration. Outweight it families distance wandered ye.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"ml-auto p-3\"},\"$\",item.price*quantity),\" \",/*#__PURE__*/React.createElement(\"h4\",{className:\"mr-auto p-3 font-weight-bold\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{onClick:function onClick(){return setQuantity(quantity-1);},icon:faMinusCircle}),\" \",quantity,\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{onClick:function onClick(){return setQuantity(quantity+1);},icon:faPlusCircle}))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleCart();},className:\"cartBtn\"},/*#__PURE__*/React.createElement(FiShoppingCart,{className:\"m-2\"}),\" Add\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 p-3\"},/*#__PURE__*/React.createElement(\"img\",{className:\"w-75\",src:item.image,alt:\"\"})))),/*#__PURE__*/React.createElement(Footer,null));};export default ItemDetails;","map":{"version":3,"sources":["C:/Complete Web Devlopment Batch 2/projects/red-onion-restaurant/src/Components/ItemDetails/ItemDetails.js"],"names":["React","useContext","useState","Container","Nav","useHistory","useParams","UserContext","FontAwesomeIcon","faMinusCircle","faPlusCircle","FiShoppingCart","useEffect","Header","Footer","ItemDetails","loggedInUser","setLoggedInUser","item","setItem","id","fetch","then","res","json","data","find","_id","quantity","setQuantity","history","handleCart","cartItem","email","method","headers","body","JSON","stringify","alert","push","title","price","image"],"mappings":"+LAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAO,mBAAP,CACA,OAASC,SAAT,CAAoBC,GAApB,KAA+B,iBAA/B,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CACA,OAASC,WAAT,KAA4B,WAA5B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,aAAT,CAAwBC,YAAxB,KAA4C,mCAA5C,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,iBACkBd,UAAU,CAACM,WAAD,CAD5B,4CACfS,YADe,iBACDC,eADC,+BAEEf,QAAQ,CAAC,EAAD,CAFV,wCAEfgB,IAFe,eAETC,OAFS,8BAGTb,SAAS,EAHA,CAGfc,EAHe,YAGfA,EAHe,CAItBR,SAAS,CAAC,UAAM,CACZS,KAAK,kCAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACVN,OAAO,CAACM,IAAI,CAACC,IAAL,CAAU,SAAAR,IAAI,QAAIA,CAAAA,IAAI,CAACS,GAAL,GAAaP,EAAjB,EAAd,CAAD,CAAP,CACH,CAJD,EAKH,CANQ,CAMN,EANM,CAAT,CAJsB,eAYUlB,QAAQ,CAAC,CAAD,CAZlB,yCAYf0B,QAZe,eAYLC,WAZK,eAatB,GAAMC,CAAAA,OAAO,CAAGzB,UAAU,EAA1B,CAEA,GAAM0B,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAMC,CAAAA,QAAQ,CAAGd,IAAjB,CACAc,QAAQ,CAACJ,QAAT,CAAoBA,QAApB,CACAI,QAAQ,CAACC,KAAT,CAAiBjB,YAAY,CAACiB,KAA9B,CACAZ,KAAK,CAAC,+BAAD,CAAkC,CACnCa,MAAM,CAAE,MAD2B,CAEnCC,OAAO,CAAE,CACL,eAAgB,kBADX,CAF0B,CAKnCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAL6B,CAAlC,CAAL,CAOAO,KAAK,CAAC,kCAAD,CAAL,CACAT,OAAO,CAACU,IAAR,UACH,CAbD,CAeA,mBACI,oBAAC,SAAD,EAAW,KAAK,KAAhB,eACI,oBAAC,MAAD,MADJ,cAEI,oBAAC,SAAD,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,cAAf,eACI,8BAAKtB,IAAI,CAACuB,KAAV,CADJ,cAEI,yBAAG,SAAS,CAAC,YAAb,gOAFJ,cAGI,2BAAK,SAAS,CAAC,QAAf,eACI,0BAAI,SAAS,CAAC,aAAd,MAA8BvB,IAAI,CAACwB,KAAL,CAAad,QAA3C,CADJ,kBAC8D,0BAAI,SAAS,CAAC,8BAAd,eAA6C,oBAAC,eAAD,EAAiB,OAAO,CAAE,yBAAMC,CAAAA,WAAW,CAACD,QAAQ,CAAE,CAAX,CAAjB,EAA1B,CAA0D,IAAI,CAAEnB,aAAhE,EAA7C,KAAgImB,QAAhI,kBAA0I,oBAAC,eAAD,EAAiB,OAAO,CAAE,yBAAMC,CAAAA,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAAjB,EAA1B,CAA2D,IAAI,CAAElB,YAAjE,EAA1I,CAD9D,CAHJ,cAMI,8BAAQ,OAAO,CAAE,yBAAMqB,CAAAA,UAAU,EAAhB,EAAjB,CAAqC,SAAS,CAAC,SAA/C,eAAyD,oBAAC,cAAD,EAAgB,SAAS,CAAC,KAA1B,EAAzD,QANJ,CADJ,cAUI,2BAAK,SAAS,CAAC,cAAf,eACI,2BAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEb,IAAI,CAACyB,KAAhC,CAAuC,GAAG,CAAC,EAA3C,EADJ,CAVJ,CADJ,CAFJ,cAkBI,oBAAC,MAAD,MAlBJ,CADJ,CAsBH,CApDD,CAsDA,cAAe5B,CAAAA,WAAf","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport './ItemDetails.css'\r\nimport { Container, Nav } from 'react-bootstrap';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { UserContext } from '../../App';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMinusCircle, faPlusCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { FiShoppingCart } from \"react-icons/fi\";\r\nimport { useEffect } from 'react';\r\nimport Header from '../Header/Header';\r\nimport Footer from '../Footer/Footer';\r\n\r\n\r\nconst ItemDetails = () => {\r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n    const [item, setItem] = useState([]);\r\n    const {id} = useParams();\r\n    useEffect(() => {\r\n        fetch(`http://localhost:5000/foodMenu`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setItem(data.find(item => item._id === id));\r\n        })\r\n    }, [])\r\n\r\n    const [quantity, setQuantity] = useState(1);\r\n    const history = useHistory();\r\n\r\n    const handleCart = () => {\r\n        const cartItem = item;\r\n        cartItem.quantity = quantity;\r\n        cartItem.email = loggedInUser.email;\r\n        fetch('http://localhost:5000/addCart', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(cartItem)\r\n        })\r\n        alert(\"Item successfully added to cart.\");\r\n        history.push(`/home`);\r\n    }\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Header />\r\n            <Container>\r\n                <div className=\"row p-5\">\r\n                    <div className=\"col-md-6 p-5\">\r\n                        <h2>{item.title}</h2>\r\n                        <p className=\"text-muted\">Gay one the what walk the she. Demesne mention promise you justice arrived way. Amazing foods are Or and icreasing to in especially inquieted companions acceptance admiration. Outweight it families distance wandered ye.</p>\r\n                        <div className=\"d-flex\">\r\n                            <h4 className=\"ml-auto p-3\">${item.price * quantity}</h4> <h4 className=\"mr-auto p-3 font-weight-bold\"><FontAwesomeIcon onClick={() => setQuantity(quantity -1)} icon={faMinusCircle} /> {quantity} <FontAwesomeIcon onClick={() => setQuantity(quantity + 1)} icon={faPlusCircle}/></h4>\r\n                        </div>\r\n                        <button onClick={() => handleCart()} className=\"cartBtn\"><FiShoppingCart className=\"m-2\" /> Add</button>\r\n\r\n                    </div>\r\n                    <div className=\"col-md-6 p-3\">\r\n                        <img className=\"w-75\" src={item.image} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n            </Container>\r\n            <Footer />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ItemDetails;"]},"metadata":{},"sourceType":"module"}