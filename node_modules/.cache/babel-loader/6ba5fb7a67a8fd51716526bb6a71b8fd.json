{"ast":null,"code":"import _slicedToArray from\"C:\\\\Complete Web Devlopment Batch 2\\\\projects\\\\red-onion-restaurant\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import'./FoodMenu.css';import{Container,Nav}from'react-bootstrap';import{Link,useHistory}from'react-router-dom';import{UserContext}from'../../App';import{useEffect}from'react';var FoodMenu=function FoodMenu(){var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),loggedInUser=_useContext2[0],setLoggedInUser=_useContext2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),foodMenu=_useState2[0],setFoodMenu=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),defaultItem=_useState4[0],setDefaultItem=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];useEffect(function(){fetch(\"http://localhost:5000/foodMenu\").then(function(res){return res.json();}).then(function(data){setFoodMenu(data);});fetch(\"http://localhost:5000/foodMenu\").then(function(res){return res.json();}).then(function(data){setDefaultItem(data.filter(function(item){return item.category===\"lunch\";}));});fetch(\"http://localhost:5000/cart\").then(function(res){return res.json();}).then(function(data){setCart(data.filter(function(cartItem){return cartItem.email===loggedInUser.email;}));});},[]);var _useState7=useState(foodMenu.filter(function(item){return item.category===\"lunch\";})),_useState8=_slicedToArray(_useState7,2),foodItems=_useState8[0],setFoodItems=_useState8[1];var _useState9=useState(\"lunch\"),_useState10=_slicedToArray(_useState9,2),isClicked=_useState10[0],setIsClicked=_useState10[1];var history=useHistory();var handleFoodItem=function handleFoodItem(category){setIsClicked(category);var selectedItems=foodMenu.filter(function(item){return item.category===category;});setFoodItems(selectedItems);};var handleCheckout=function handleCheckout(){history.push(\"/placeOrder\");};return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Nav,{className:\"justify-content-center font-weight-bold p-5\",activeKey:\"/home\"},/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{className:isClicked===\"breakfast\"?\"active mr-3\":\"navLink mr-3\",to:\"\",onClick:function onClick(){handleFoodItem(\"breakfast\");}},\"Breakfast\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{className:isClicked===\"lunch\"?\"active mr-3\":\"navLink mr-3\",to:\"\",onClick:function onClick(){handleFoodItem(\"lunch\");}},\"Lunch\")),/*#__PURE__*/React.createElement(Nav.Item,null,/*#__PURE__*/React.createElement(Link,{className:isClicked===\"dinner\"?\"active mr-3\":\"navLink mr-3\",to:\"\",onClick:function onClick(){handleFoodItem(\"dinner\");}},\"Dinner\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row p-4\"},foodItems.length===0?defaultItem.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 p-3 items\",key:item._id},/*#__PURE__*/React.createElement(Link,{to:\"/itemDetails/\".concat(item._id)},/*#__PURE__*/React.createElement(\"img\",{src:item.image,className:\"w-50\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h5\",{className:\"text-dark\"},item.title),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},item.info),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-dark\"},\"$\",item.price)));}):foodItems.map(function(item){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 p-3 items\",key:item._id},/*#__PURE__*/React.createElement(Link,{to:\"/itemDetails/\".concat(item._id)},/*#__PURE__*/React.createElement(\"img\",{src:item.image,className:\"w-50\",alt:\"\"}),/*#__PURE__*/React.createElement(\"h5\",{className:\"text-dark\"},item.title),/*#__PURE__*/React.createElement(\"p\",{className:\"text-muted\"},item.info),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-dark\"},\"$\",item.price)));})),cart.length?/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleCheckout();},className:\"bg-danger btn text-white rounded pl-5 pr-5 m-5\"},\"Checkout Your Food\"):/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleCheckout();},className:\"bg-secondary btn text-white rounded pl-5 pr-5 m-5\",disabled:true},\"Checkout Your Food\")));};export default FoodMenu;","map":{"version":3,"sources":["C:/Complete Web Devlopment Batch 2/projects/red-onion-restaurant/src/Components/FoodMenu/FoodMenu.js"],"names":["React","useContext","useState","Container","Nav","Link","useHistory","UserContext","useEffect","FoodMenu","loggedInUser","setLoggedInUser","foodMenu","setFoodMenu","defaultItem","setDefaultItem","cart","setCart","fetch","then","res","json","data","filter","item","category","cartItem","email","foodItems","setFoodItems","isClicked","setIsClicked","history","handleFoodItem","selectedItems","handleCheckout","push","length","map","_id","image","title","info","price"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport './FoodMenu.css'\r\nimport { Container, Nav } from 'react-bootstrap';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../App';\r\nimport { useEffect } from 'react';\r\n\r\nconst FoodMenu = () => {\r\n    const [loggedInUser, setLoggedInUser] = useContext(UserContext);\r\n    const [foodMenu, setFoodMenu] = useState([]);\r\n    const [defaultItem, setDefaultItem] = useState([]);\r\n    const [cart, setCart] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch(`http://localhost:5000/foodMenu`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setFoodMenu(data);\r\n        })\r\n\r\n        fetch(`http://localhost:5000/foodMenu`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setDefaultItem(data.filter(item => item.category === \"lunch\"));\r\n        })\r\n\r\n        fetch(`http://localhost:5000/cart`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            setCart(data.filter(cartItem => cartItem.email === loggedInUser.email));\r\n        })\r\n    }, [])\r\n    const [foodItems, setFoodItems] = useState(foodMenu.filter(item => item.category === \"lunch\"));\r\n    const [isClicked, setIsClicked] = useState(\"lunch\");  \r\n    const history = useHistory();\r\n\r\n    const handleFoodItem = (category) =>{\r\n        setIsClicked(category)\r\n        const selectedItems = foodMenu.filter(item => item.category === category);\r\n        setFoodItems(selectedItems);\r\n        \r\n    }\r\n\r\n    const handleCheckout = () =>{\r\n        history.push(`/placeOrder`)\r\n    }\r\n    return (\r\n        <Container fluid>\r\n            <Container>\r\n                <Nav className=\"justify-content-center font-weight-bold p-5\" activeKey=\"/home\">\r\n                    <Nav.Item>\r\n                        <Link className={isClicked===\"breakfast\" ? \"active mr-3\" : \"navLink mr-3\"} to=\"\" onClick={() => {handleFoodItem(\"breakfast\")}}>Breakfast</Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Link className={isClicked===\"lunch\" ? \"active mr-3\" : \"navLink mr-3\"} to=\"\" onClick={() => {handleFoodItem(\"lunch\")}} >Lunch</Link>\r\n                    </Nav.Item>\r\n                    <Nav.Item>\r\n                        <Link className={isClicked===\"dinner\" ? \"active mr-3\" : \"navLink mr-3\"} to=\"\" onClick={() => {handleFoodItem(\"dinner\")}}>Dinner</Link>\r\n                    </Nav.Item>\r\n                </Nav>\r\n                <div className=\"row p-4\">\r\n                    {\r\n                        foodItems.length===0\r\n                        ?defaultItem.map(item => \r\n                            <div className=\"col-md-4 p-3 items\" key={item._id}>\r\n                                <Link to={`/itemDetails/${item._id}`}>\r\n                                    <img src={item.image} className=\"w-50\" alt=\"\"/>\r\n                                    <h5 className=\"text-dark\">{item.title}</h5>\r\n                                    <p className=\"text-muted\">{item.info}</p>\r\n                                    <h2 className=\"text-dark\">${item.price}</h2>\r\n                                </Link>\r\n                            </div>    \r\n                        )\r\n                        :foodItems.map(item => \r\n                            <div className=\"col-md-4 p-3 items\" key={item._id}>\r\n                                <Link to={`/itemDetails/${item._id}`}>\r\n                                    <img src={item.image} className=\"w-50\" alt=\"\"/>\r\n                                    <h5 className=\"text-dark\">{item.title}</h5>\r\n                                    <p className=\"text-muted\">{item.info}</p>\r\n                                    <h2 className=\"text-dark\">${item.price}</h2>\r\n                                </Link>\r\n                            </div>    \r\n                        )\r\n                    }\r\n                </div>\r\n                {\r\n                    cart.length\r\n                    ?<button  onClick={() => handleCheckout()} className=\"bg-danger btn text-white rounded pl-5 pr-5 m-5\">Checkout Your Food</button>\r\n                    :<button  onClick={() => handleCheckout()} className=\"bg-secondary btn text-white rounded pl-5 pr-5 m-5\" disabled>Checkout Your Food</button>\r\n                }\r\n            </Container>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default FoodMenu;"]},"metadata":{},"sourceType":"module"}